<script>


    canvas = document.createElement('canvas');
    ctx = canvas.getContext('2d');

    async function img() {
        image = new Image();
        image.onload = await function () {
            canvas.width = image.width;
            canvas.height = image.height;
            ctx.drawImage(image, 0, 0);
            data = canvas.toDataURL('image/jpeg', 0.6);
            console.log(data);
        }
        image.src = '11.jpg';
    }

    async function add() {
        console.log(2);
        await img();
        await console.log(3);
    }

    add()






    // flash(data);
    // setClip(data);
    // setLocal('ddd', data)
    // exit();
    // image.src = 'file:///storage/emulated/0/Pictures/11.jpg';


    // function async() {
    //     return new Promise(function (resolve, reject) {



    //         resolve();
    //     });
    // }

    // async function test() {
    //     console.log('开始异步操作');
    //     await async();
    //     console.log('结束异步操作');
    // }

    // test();

</script>